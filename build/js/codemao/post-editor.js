var openPostWindow=function(e){"use strict";var t=".post-editor-wrapper{position: fixed; left: 0px; right: 0px; bottom: 0px; top: 0px; z-index: 500; background-color: rgba(30, 30, 31, 0.780392);}.post-editor{position:relative;margin:30px auto;width:500px;padding:30px 30px 5px 30px;border:1px solid hsl(0,0%,84%);background-color:#525356;color:white;border-radius:4px}.post-editor .post-header{text-align:center;font-size:18px}.post-editor .post-title{height:28px;width:100%}.post-editor .post-content{resize:none;width:100%;height:70px;margin:0 auto;padding:8px}.post-editor .code-preview {max-height: 250px;}.post-editor .prompt-text {font-size: 16px;background-color: hsl(225, 2%, 33%);margin-bottom: 8px;}.post-editor .post-btn{width:60px;height:32px;text-align:center;line-height:32px;font-size:14px;border-radius:4px;color:white;background-color:hsl(207,90%,54%);cursor:pointer}.post-editor .post-btn.disabled{pointer-events:none;background-color:gray;}.post-editor .code-preview-row {background-color: white;}.post-editor .close-btn{font-size: 28px;position: absolute;top:16px;right:16px;cursor:pointer;}.post-editor .post-row {margin-bottom: 16px;}.post-editor .post-title.error {border:1px solid red;}.post-editor .post-content.error {border:1px solid red;}.post-editor-wrapper .message-window{width:300px;height:180px;background-color: hsl(225, 2%, 33%);position:absolute;left:50%;margin-left:-150px;top:120px;border:1px solid white;border-radius:8px;display:none;}.post-editor-wrapper .close-message-window{color:white;font-size: 28px;position: absolute;top:16px;right:16px;cursor:pointer;}",o='<div class="post-editor"><div class="fa fa-times close-btn"></div><div class="post-row post-header">发布到: 编程猫百科</div><div class="post-row"><p class="prompt-text">标题: </p><input placeholder="请输入标题" class="post-title"/></div><div class="post-row"><p class="prompt-text">内容</p><textarea name="" id="" cols="30" rows="10" placeholder="请描述你的问题" class="post-content"></textarea></div><div class="post-row code-preview-row"><p class="prompt-text">代码截图</p><img src="'+e+'" alt="" class="code-preview"></div><div class="post-row"><div class="post-btn">发表</div></div></div><div class="message-window"><p style="font-size: 24px; color: rgb(255, 152, 0); text-align: center; margin-top: 20px; margin-bottom: 60px;">发帖成功</p><div class="close-message-window fa fa-times"></div></div>',r=document.createElement("div");r.className="post-editor-wrapper",r.innerHTML=o;var s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode(t)),document.head.appendChild(s),document.body.appendChild(r),document.querySelector(".post-editor .close-btn").addEventListener("click",function(){r.style.display="none",r.innerHTML=""}),document.querySelector(".post-editor-wrapper .close-message-window").addEventListener("click",function(){r.style.display="none",r.innerHTML=""});var i=document.querySelector(".post-editor-wrapper .message-window"),p=document.querySelector(".post-editor .post-btn"),d=document.querySelector(".post-editor .post-title"),n=document.querySelector(".post-editor .post-content"),a=(document.querySelector(".post-editor .code-preview"),document.querySelector(".post-editor"));p.addEventListener("click",function(){var t=!1;if(""===d.value&&(d.classList.add("error"),setTimeout(function(){d.classList.remove("error")},1500),t=!0),""===n.value&&(n.classList.add("error"),setTimeout(function(){n.classList.remove("error")},1500),t=!0),!t){var o={title:d.value,content:'<img src="'+e+'"></br>'+n.value};p.classList.add("disabled");var r=new XMLHttpRequest;r.open("post","/forum/question/api"),r.onload=function(){p.classList.remove("disabled");var e=JSON.parse(r.responseText);200===e.code&&(a.style.display="none",i.style.display="block")},r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(o))}})};